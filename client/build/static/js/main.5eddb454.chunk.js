(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[1],{19:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var c={login:"AUTH_LOGIN",logout:"AUTH_LOGOUT",updateUserJob:"USER_UPDATE_JOB",createUserJob:"USER_CREATE_JOB",deleteUserJob:"USER_DELETE_JOB"}},204:function(e,t,n){"use strict";n.r(t);var c=n(5),r=n(0),a=n.n(r),o=n(22),s=n.n(o),u=n(37),i=n(33),j=n(7),b=n(55),d=n(8),l=n(209),p=n(206),O=function(){return Object(c.jsx)(l.a,{align:"center",justify:"center",children:Object(c.jsx)(p.a,{})})},f=function(e){var t=e.forceProtect,n=void 0===t||t,r=e.fallback,a=void 0===r?"/login":r,o=Object(b.a)(e,["forceProtect","fallback"]),s=Object(i.c)((function(e){return e.auth.authorized}));return n?s?Object(c.jsx)(d.b,Object(j.a)({},o)):Object(c.jsx)(d.a,{to:a}):Object(c.jsx)(d.b,Object(j.a)({},o))},h=n(211),g=n(210),m=n(205),v=n(65),x=n(74),y=n.n(x);function _(e){var t=e.children,n=Object(i.b)(),a=Object(i.c)((function(e){return e.auth.authorized})),o=Object(i.c)((function(e){return e.auth.user}));return Object(r.useEffect)((function(){a&&!(null===o||void 0===o?void 0:o.username)&&n(Object(v.c)())}),[a,o]),Object(c.jsxs)(h.a,{className:y.a["app-layout"],children:[a&&Object(c.jsx)(h.a.Header,{children:Object(c.jsxs)(l.a,{justify:"space-between",align:"center",children:[Object(c.jsx)(g.a,{children:Object(c.jsx)(u.b,{to:"/add",children:Object(c.jsx)(m.a,{type:"primary",children:"Add job"})})}),Object(c.jsx)(g.a,{children:Object(c.jsx)(m.a,{danger:!0,type:"primary",onClick:function(){n(Object(v.d)())},children:"Logout"})})]})}),Object(c.jsx)(h.a.Content,{className:y.a["app-layout-content"],children:t})]})}n(203);var U=[{path:"/(login|signup)",exact:!0,component:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,364))})),forceProtect:!1},{path:"/",exact:!1,component:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(6)]).then(n.bind(null,370))}))}];var J=function(){return Object(c.jsx)(_,{children:Object(c.jsxs)(d.d,{children:[U.map((function(e){var t=e.component,n=Object(b.a)(e,["component"]);return Object(c.jsx)(f,Object(j.a)(Object(j.a)({},n),{},{children:Object(c.jsx)(r.Suspense,{fallback:Object(c.jsx)(O,{}),children:Object(c.jsx)(t,{})})}),n.path)})),Object(c.jsx)(d.b,{path:"*",children:Object(c.jsx)(d.a,{to:"/"})},"*")]})})},w=n(54),E=function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,365)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(u.a,{children:Object(c.jsx)(i.a,{store:w.a,children:Object(c.jsx)(J,{})})})}),document.getElementById("root")),E()},23:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return u}));var c=function(e){var t=localStorage.getItem("_token");return e?"".concat(e," ").concat(t):t},r=function(e){localStorage.setItem("_token",e)},a=function(){localStorage.removeItem("_token")},o=n(118),s=(new(n.n(o).a)).has().uppercase().is().min(8).has().lowercase().has().digits().has().not().spaces(),u=function(e,t,n){var c=s.validate(t,{list:!0});return c.includes("min")?n("password must be at least 8 letters"):c.includes("uppercase")?n("password must have uppercase letters"):c.includes("lowercase")?n("password must have lowercase letters"):c.includes("digits")?n("password must have digits"):c.includes("spaces")?n("password must not indent spaces"):n()}},54:function(e,t,n){"use strict";var c,r=n(35),a=n(117),o=n(121),s=n(7),u=n(19),i=n(23),j={user:{username:"",jobs:[]},authorized:null!==(c=Object(i.a)())&&void 0!==c&&c},b=Object(r.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case u.a.login:return Object(s.a)(Object(s.a)({},e),{},{authorized:!0,user:Object(s.a)(Object(s.a)({},c),{},{jobs:c.jobs.reverse()})});case u.a.logout:return Object(s.a)(Object(s.a)({},e),{},{authorized:!1,user:{}});case u.a.createUserJob:return Object(s.a)(Object(s.a)({},e),{},{user:Object(s.a)(Object(s.a)({},e.user),{},{jobs:[c].concat(Object(o.a)(e.user.jobs))})});case u.a.updateUserJob:return Object(s.a)(Object(s.a)({},e),{},{user:Object(s.a)(Object(s.a)({},e.user),{},{jobs:e.user.jobs.map((function(e){return e._id===c._id?Object(s.a)(Object(s.a)({},e),c):e}))})});case u.a.deleteUserJob:return Object(s.a)(Object(s.a)({},e),{},{user:Object(s.a)(Object(s.a)({},e.user),{},{jobs:e.user.jobs.filter((function(e){return e._id!==c}))})});default:return e}}}),d=[a.a],l=Object(r.d)(b,r.a.apply(void 0,d));t.a=l},65:function(e,t,n){"use strict";n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"b",(function(){return g}));var c=n(19),r=n(116),a=n.n(r),o=n(207),s=n(54),u=a.a.create({baseURL:"/api"});u.interceptors.response.use((function(e){return e.data}),(function(e){return 403===e.response.status?(s.a.dispatch(p()),Promise.reject(e)):(o.a.error({message:"Error",description:e.response.data.message}),Promise.reject(e))}));var i=u,j=n(23),b=function(e){return{type:c.a.login,payload:e}},d=function(e){return function(t){i.post("/login",e).then((function(e){Object(j.c)(e.accessToken),t(b(e.user))}))}},l=function(e){return function(t){i.post("/signup",e).then((function(e){Object(j.c)(e.accessToken),t(b(e.user))}))}},p=function(){return function(e){Object(j.b)(),e({type:c.a.logout})}},O=function(){return function(e){i.get("/user",{headers:{authorization:Object(j.a)("Bearer")}}).then((function(t){e(b(t))}))}},f=function(e){return function(t){i.post("/user/job",e,{headers:{authorization:Object(j.a)("Bearer")}}).then((function(e){var n;t((n=e,{type:c.a.createUserJob,payload:n}))}))}},h=function(e){return function(t){i.put("/user/job",e,{headers:{authorization:Object(j.a)("Bearer")}}).then((function(e){var n;t((n=e,{type:c.a.updateUserJob,payload:n}))}))}},g=function(e){return function(t){i.delete("/user/job/".concat(e),{headers:{authorization:Object(j.a)("Bearer")}}).then((function(e){var n;t((n=e,{type:c.a.deleteUserJob,payload:n}))}))}}},74:function(e,t,n){e.exports={"app-layout":"styles_app-layout__3WT_1","app-layout-content":"styles_app-layout-content__3Hppm"}}},[[204,2,3]]]);
//# sourceMappingURL=main.5eddb454.chunk.js.map